{% load static %}

<!doctype html>

<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{% block title %}  Admin  {% endblock title%}</title>
    <meta name="description" content="Ela Admin - HTML5 Admin Template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link href='https://cdn.jsdelivr.net/npm/chartist@0.11.0/dist/chartist.min.css' rel="stylesheet">
    
    <link rel="stylesheet" href="{% static 'css/cs-skin-elastic.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
       
    {% block css   %}


    {% endblock css %}
    <style>
        #loader {
          transition: all 0.3s ease-in-out;
          opacity: 1;
          visibility: visible;
          position: fixed;
          height: 100vh;
          width: 100%;
          background: #fff;
          z-index: 90000;
        }
    
        #loader.fadeOut {
          opacity: 0;
          visibility: hidden;
        }
    
        .spinner {
          width: 40px;
          height: 40px;
          position: absolute;
          top: calc(50% - 20px);
          left: calc(50% - 20px);
          background-color: #333;
          border-radius: 100%;
          -webkit-animation: sk-scaleout 1.0s infinite ease-in-out;
          animation: sk-scaleout 1.0s infinite ease-in-out;
        }
    
        @-webkit-keyframes sk-scaleout {
          0% { -webkit-transform: scale(0) }
          100% {
            -webkit-transform: scale(1.0);
            opacity: 0;
          }
        }
    
        @keyframes sk-scaleout {
          0% {
            -webkit-transform: scale(0);
            transform: scale(0);
          } 100% {
            -webkit-transform: scale(1.0);
            transform: scale(1.0);
            opacity: 0;
          }
        }
      </style>


    <script>
        window.addEventListener('load', function load() {
          const loader = document.getElementById('loader');
          setTimeout(function() {
            loader.classList.add('fadeOut');
          }, 300);
        });
      </script>
       

</head>

<body>

    <div id='loader'>
        <div class="spinner"></div>
      </div>
    
    {% block left-panel %}
    <!-- Left Panel -->
    <aside id="left-panel" class="left-panel">
        <nav class="navbar navbar-expand-sm navbar-default">
            <div id="main-menu" class="main-menu collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="active">
                        <a href="{% url 'home' %}"><i class="menu-icon fa fa-laptop"></i>Dashboard </a>
                    </li>
                    <li class="menu-title">Portal</li><!-- /.menu-title -->

                    <li class="menu-item-has-children dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">  <i class="menu-icon fa fa-user-plus" aria-hidden="true"></i>  Admin</a>
                        <ul class="sub-menu children dropdown-menu">
                            <li></i><a href="{% url 'all-schooladmins'  %}"> All Admin</a></li>
                            <li></i><a href="{% url 'create-schooladmin'  %}">Add School Admin</a></li>
                        </ul>
                    </li>

                    
                    <!-- <li><i class="fa fa-bars"></i><a href="ui-tabs.html">Tabs</a></li> -->

                    <li class="menu-item-has-children dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">  <i class="menu-icon fa fa-user" aria-hidden="true"></i> Lecturers</a>
                        <ul class="sub-menu children dropdown-menu">                            
                            <li></i><a href="{% url 'all-lecturers'  %}"> All Lecturers</a></li>
                            <li></i><a href="{% url 'create-lecturer' %}">Add Lecturer</a></li>
                        </ul>
                    </li>

                    <li class="menu-item-has-children dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="menu-icon fa fa-users" aria-hidden="true"></i>Students</a>
                        <ul class="sub-menu children dropdown-menu">
                            <li></i><a href="{% url 'all-students' %}"> All Students</a></li>
                            <li></i><a href="{% url 'create-student' %}">Add Student</a></li>
                        </ul>
                    </li>

                    <li class="menu-item-has-children dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="menu-icon fa fa-book" aria-hidden="true"></i>Courses</a>
                        <ul class="sub-menu children dropdown-menu">
                            <li></i><a href=" {% url 'all-courses' %}  "> All Courses</a></li>
                            <li></i><a href=" {% url 'create-course' %} ">Add Course</a></li>
                        </ul>
                    </li>


                </ul>
            </div><!-- /.navbar-collapse -->
        </nav>
    </aside>
    {% endblock left-panel %}
    <!-- /#left-panel -->
    <!-- Right Panel -->
    <div id="right-panel" class="right-panel">
        <!-- Header-->
        <header id="header" class="header">
            <div class="top-left">
                <div class="navbar-header">
                    <!-- <a class="navbar-brand" href="./"><img src="images/logo.png" alt="Logo"></a> -->
                    <!-- <a class="navbar-brand hidden" href="./"><img src="images/logo2.png" alt="Logo"></!--> 
                    <a id="menuToggle" class="menutoggle"><i class="fa fa-bars"></i></a>
                </div>
            </div>
            <div class="top-right">
                <div class="header-menu">
                    <div class="header-left">
                        <button class="search-trigger"><i class="fa fa-search"></i></button>
                        <div class="form-inline">
                            <!-- SEARCH BAR -->
                            <form class="search-form">
                                <!-- <input class="form-control mr-sm-2" type="text" placeholder="Search " aria-label="Search"> -->
                                <input type="text" placeholder="Search " aria-label="Search">
                                <button class="search-close" type="submit"><i class="fa fa-close"></i></button>

                            </form>
                            <!-- SEARCH BAR -->
                        </div>

                      
                        <!-- MESSAGE NOTIFICATION/ -->
                    </div>
                
                    <div class="user-area dropdown float-right">
                        <a href="#" class="dropdown-toggle active" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            
                            <img class="user-avatar rounded-circle" src="{{user.schooladmin.profile_pic.url}}" alt="pic" style="width: 50px; height: 100%;">
                        
                        </a>

                        <div class="user-menu dropdown-menu">
                            <a class="nav-link" href="{% url 'admin-profile-page' %}"><i class="fa fa-user"></i>My Profile</a>
                            <a class="nav-link" href='{% url "password_change" %}'><i class="fa fa-lock"></i>Change Password</a>
                            <a class="nav-link" href="{% url 'lecturer-admin-logout' %}"><i class="fa fa-power-off"></i>Logout</a>
                        </div>
                    </div>

                </div>
            </div>
        </header>
        <!-- /#header -->
        <!-- Content -->
        <div class="content">
            {% if messages %}
                {% for message in messages %}

                    <div class="alert alert-success">{{message}}</div>

                {% endfor %}
            {% endif %}
        {% block content %}    
        <!-- /.content -->
        <!-- <div class="clearfix"></div> -->
        
        <div class="container">
            <div class="row">

                <div class="col-sm-6 col-lg-6">
                    <div class="card text-white bg-flat-color-1">
                        <div class="card-body">
                            <div class="card-left pt-1 float-left">
                                <h3 class="mb-0 fw-r">
                                        <span class="count">{{students}}</span>
                                </h3>
                                    <p class="text-light mt-1 m-0">Total Number Of Students</p>
                               
                            </div><!-- /.card-left -->

                            <div class="card-right float-right text-right">
                                <img src="https://img.icons8.com/wired/80/000000/students.png"/>
                            </div><!-- /.card-right -->

                        </div>
                    
                    </div>
                </div>

                <div class="col-sm-6 col-lg-6">
                    <div class="card text-white bg-flat-color-2">
                        <div class="card-body">
                            <div class="card-left pt-1 float-left">
                                <h3 class="mb-0 fw-r">
                                    <span class="count">{{courses}}</span>
                                </h3>
                                <p class="text-light mt-1 m-0">Total Number Of Courses</p>
                            </div><!-- /.card-left -->

                            <div class="card-right float-right text-right">
                                <img src="https://img.icons8.com/ios/75/000000/courses.png"/>
                            </div><!-- /.card-right -->

                        </div>

                    </div>
                </div>

                <div class="col-sm-6 col-lg-6">
                    <div class="card text-white bg-flat-color-3">
                        <div class="card-body">
                            <div class="card-left pt-1 float-left">
                                <h3 class="mb-0 fw-r">
                                    <span class="count">{{lecturers}}</span>
                                </h3>
                                <p class="text-light mt-1 m-0">Total Number Of Lecturers</p>
                            </div><!-- /.card-left -->

                            <div class="card-right float-right text-right">
                                <img src="https://img.icons8.com/ios/75/000000/podium-with-speaker.png"/>
                            </div><!-- /.card-right -->

                        </div>
                    </div>
                </div>

                <div class="col-sm-6 col-lg-6">
                    <div class="card text-white bg-flat-color-4" >
                        <div class="card-body">
                            <div class="card-left pt-1 float-left">
                                <h3 class="mb-0 fw-r">
                                    <span class="count">{{admins}}</span>
                                </h3>
                                <p class="text-light mt-1 m-0">Total Number Of Admin</p>
                            </div><!-- /.card-left -->

                            <div class="card-right float-right text-right">
                                <img src="https://img.icons8.com/carbon-copy/80/000000/administrative-tools.png"/>
                            </div><!-- /.card-right -->

                        </div>

                    </div>
                </div>
                <!-- bar chart -->
                <div class="col-sm-6 col-lg-6" style=""><canvas id="myChart" width="100" height="100"></canvas></div>
                <!-- scatter plot -->
                <div class="col-sm-6 col-lg-6" style=""><canvas id="myChart2" width="100" height="100"></canvas></div>
            </div>

        </div>
        
        
        <!-- Footer -->

        {% endblock content %}
        <!-- <footer class="site-footer">
            <div class="footer-inner bg-white">
                <div class="row">
                    <div class="col-sm-6">
                        Copyright &copy; 2018 Ela Admin
                    </div>
                    <div class="col-sm-6 text-right">
                        Designed by <a href="https://colorlib.com">Colorlib</a>
                    </div>
                </div>
            </div>
        </footer> -->
        <!-- /.site-footer -->
    </div>
    <!-- /#right-panel -->

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>
    <!-- <script src="../../../static/js/main.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="{% static 'js/main.js' %}"></script>
    {% block chart %}
    
    

    
<script>
var ctx1 = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx1, {
    type: 'bar',
    data: {
        labels: ['100', '200', '300', '400', '500'],
        datasets: [{
            label: 'Database Info',
            data: [{{100_level}}, {{200_level}}, {{300_level}}, {{400_level}}, {{500_level}}],
            backgroundColor: [
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [

                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        },
        title: {
            display: true,
            position: "top",
            text: "Number Of Students Per Level",
            fontSize: 18,
            fontColor: "#111"
        },
    }
});


var ctx2 = document.getElementById('myChart2').getContext('2d');

data = {
    datasets: [{
        data: [{{male_students}}, {{female_students}}],
        
        backgroundColor: [
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 99, 132, 0.2)'
        ],
        borderColor: [
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 99, 132, 0.2)'

        ],
        borderWidth: [1, 1]
    }],

    // These labels appear in the legend and in the tooltips when hovering different arcs
    labels: [
        'Number Of Male Students',
        'Number Of Female Students'
    ] ,
    
};

var options = {
    responsive: true,
    title: {
      display: true,
      position: "top",
      text: "Pie Chart",
      fontSize: 18,
      fontColor: "#111"
    },
    legend: {
      display: true,
      position: "bottom",
      labels: {
        fontColor: "#333",
        fontSize: 16
      }
    }
  };

var myPieChart = new Chart(ctx2, {
    type: 'pie',
    data: data,
    options: options
});
</script>
{% endblock chart %}
    
  
    {% block javascript %}

    {% endblock javascript %}


    <!--Local Stuff-->
    <!-- <link rel="stylesheet" href="../../../static/css/cs-skin-elastic.css">
    <link rel="stylesheet" href="../../../static/css/style.css"> -->
    <!-- <link rel="stylesheet" href="{% static 'css/cs-skin-elastic.css' ">
    <link rel="stylesheet" href="{% static 'css/style.css' %}"> -->
    
</body>
</html>
